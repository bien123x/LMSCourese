<div class="flex flex-col gap-2.5">
  <div class="flex items-center justify-between">
    <h1 class="font-black text-[25px]">Quyền</h1>
    <p-button label="Thêm quyền" (onClick)="newRole()"></p-button>
  </div>
  <p-toast></p-toast>
  <p-table [value]="roles()" class="rounded-xl overflow-hidden">
    <ng-template #header>
      <tr>
        <th>Thao tác</th>
        <th>Quyền</th>
        <th>Số lượng người dùng</th>
      </tr>
    </ng-template>
    <ng-template #body let-role>
      <tr>
        <td>
          <p-menu #menu [model]="menuItems()" [popup]="true" appendTo="body" />
          <p-button (onClick)="setCurrentRole(role, $event, menu)" label="Thao tác" />
        </td>
        <td>{{ role.roleName }}</td>
        <td>{{ role.countUserRoles }}</td>
      </tr>
    </ng-template>
    <ng-template #footer>
      <tr>
        <td colspan="3">Tổng có {{ totalRoles() }} quyền</td>
      </tr>
    </ng-template>
  </p-table>
</div>
